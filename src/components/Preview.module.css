/* === Preview Component Styles (FULLY REFINED) === */

.previewContent {
    padding: 60px 70px;
    font-size: 10pt;
    color: var(--color-gray-700);
}

/* Header */
.invoiceHeader {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding-bottom: var(--spacing-8);
}
.companyDetails { display: flex; align-items: center; gap: var(--spacing-4); }
.companyName { font-size: 1.8em; font-weight: var(--font-weight-bold); color: var(--color-gray-900); white-space: pre-line; line-height: 1.2; }
.companyLogo { width: 56px; height: 56px; flex-shrink: 0; }
.companyLogo img { width: 100%; height: 100%; object-fit: contain; }
.companyLogoPlaceholder { width: 100%; height: 100%; border-radius: var(--radius-lg); background-color: var(--color-primary-500); color: var(--color-white); display: flex; align-items: center; justify-content: center; }
.companyLogoPlaceholder svg { width: 28px; height: 28px; }
.invoiceTitle { text-align: right; }
.invoiceTitle h1 {
    font-size: 3.2em;
    font-weight: var(--font-weight-semibold);
    color: var(--color-primary-500);
    line-height: 1;
}
.invoiceTitle p { font-size: 1.1em; color: var(--color-gray-500); margin-top: var(--spacing-1); font-family: monospace; }

/* Meta Info */
.invoiceMeta { display: flex; justify-content: space-between; gap: var(--spacing-8); padding: var(--spacing-6) 0; border-top: var(--border-width) solid var(--color-gray-300); border-bottom: var(--border-width) solid var(--color-gray-300); }
.metaCol { flex: 1; }
.metaCol h4 { font-size: 0.9em; font-weight: var(--font-weight-bold); color: var(--color-gray-900); margin-bottom: var(--spacing-2); }
.metaCol p { line-height: 1.6; color: var(--color-gray-700); white-space: pre-wrap; font-weight: var(--font-weight-normal); }

/* Items Table */
.itemsTable { width: 100%; border-collapse: collapse; margin-top: var(--spacing-8); font-size: 0.95em; }
.itemsTable thead tr { border-bottom: 2px solid var(--color-gray-900); }
.itemsTable thead th {
    padding: 0 var(--spacing-2) var(--spacing-3);
    font-weight: var(--font-weight-bold);
    font-size: 0.9em;
    color: var(--color-gray-900);
    text-transform: none;
    letter-spacing: 0;
    line-height: 1.5;
}
.itemsTable td { padding: var(--spacing-3) var(--spacing-2); vertical-align: top; font-variant-numeric: tabular-nums; }
.thNo { width: 5%; } .thDesc { width: 40%; text-align: left;} .thQty { width: 10%; }
.thUnit { width: 10%; } .thPrice { width: 17%; } .thTotal { width: 18%; }

.itemGroupHeader {
    background-color: transparent;
}
.itemGroupHeader td {
    font-weight: var(--font-weight-bold);
    color: var(--color-gray-900);
    padding-top: var(--spacing-4);
    border-bottom: 1px solid var(--color-gray-300);
}
.itemDetail td { border-bottom: var(--border-width) solid var(--color-gray-200); }
.itemDetail:last-child td { border-bottom: none; }

/* Summary Section */
.invoiceSummarySection {
    margin-top: var(--spacing-8);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--spacing-8);
    border-top: 2px solid var(--color-gray-200);
    padding-top: var(--spacing-6);
}
.paymentStagesContainer { flex: 1.5; }
.paymentStagesContainer h4 { font-size: 1em; font-weight: var(--font-weight-bold); margin-bottom: var(--spacing-3); }
.paymentStagesTable { width: 100%; font-size: 0.95em; }
.paymentStagesTable td { padding: var(--spacing-2) 0; }
.paymentStagesTable td:nth-child(2) { padding: 0 var(--spacing-4); }
.summaryDetailsContainer { flex: 1; max-width: 350px; width: 100%; }
.summaryDetailsTable { width: 100%; }
.summaryDetailsTable td { padding: var(--spacing-3); }
.summaryDetailsTable tr:not(:last-child) td { border-bottom: var(--border-width) solid var(--color-gray-200); }
.summaryDetailsTable td:last-child { text-align: right; }
.grandTotal { border-top: 2px solid var(--color-gray-900); }
.grandTotal td {
    font-weight: var(--font-weight-bold);
    font-size: 1.3em;
    color: var(--color-gray-900);
    padding-top: var(--spacing-4);
    padding-bottom: var(--spacing-4);
}
.grandTotal td:first-child { color: var(--color-primary-500); }

/* Notes Section */
.notesSection { margin-top: var(--spacing-8); }
.notesBox {
    background-color: var(--color-gray-50);
    border-radius: var(--radius-lg);
    padding: var(--spacing-6);
    border: none;
}
.notesBox ul, .notesBox p {
    font-size: 0.95em;
    color: var(--color-gray-600);
    line-height: 1.7;
}
.notesBox ul { padding-left: 20px; }
.notesBox ul li { margin-bottom: var(--spacing-2); }

/* Footer */
.paymentInfoFooter { margin-top: var(--spacing-12); padding-top: var(--spacing-6); border-top: var(--border-width) solid var(--border-color); }
.paymentInfoHeader { font-weight: var(--font-weight-medium); color: var(--color-gray-500); margin-bottom: var(--spacing-4); font-size: 0.9em; text-transform: uppercase; letter-spacing: 0.05em; }
.paymentInfoBody { display: flex; justify-content: space-between; gap: var(--spacing-6); }
.paymentInfoCol { flex: 1; }
.paymentInfoCol h4 { font-size: 0.9em; color: var(--color-gray-900); font-weight: var(--font-weight-bold); margin-bottom: var(--spacing-1); }
.paymentInfoCol p { font-weight: var(--font-weight-normal); color: var(--color-gray-700); white-space: pre-wrap; }